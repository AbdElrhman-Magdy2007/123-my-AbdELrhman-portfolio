(()=>{var e={};e.id=259,e.ids=[259],e.modules={2012:(e,r,t)=>{"use strict";t.r(r),t.d(r,{"0038d89a466d96a188db6802c6ced329123e7b50ff":()=>s.generateStaticParams,"4001a2734b6dbb63d1e1c627dec40ff67991874a19":()=>s.default,"4068447b054dae6ab985a910d70c4c4d18ef490c2f":()=>a.default,"600eddcdcbfee75212786e8a798ab5803206ce3e5c":()=>i.$,"6044ac343193b6006fa5ace3a30ee6b8011f3d6598":()=>i.i,"7f6ce78ca510471bed79a9fd057096b46ea8be23fa":()=>n.AS,"7f8dfbafa8764ad0718826a449791ff4e1adfe74cc":()=>n.OF,"7fa624c09f5b849cc24bd75870f06c52852199c913":()=>n.vu,"7fc47268b2fa335e776c6baac82208e0ef7c7a9ef4":()=>n.d$,"7fc95cc4a35aa2688fea6a4e733e3879f181fb43a5":()=>n.hx,"7fdd9393769371e63e4f9ed0d97ced33211dd316ff":()=>n.ab});var a=t(99111),i=t(62288),s=t(45984),n=t(83204)},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5486:e=>{"use strict";e.exports=require("bcrypt")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},10974:(e,r,t)=>{"use strict";t.d(r,{cn:()=>s});var a=t(75986),i=t(8974);function s(...e){return(0,i.QP)((0,a.$)(e))}},11723:e=>{"use strict";e.exports=require("querystring")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22373:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,85814,23)),Promise.resolve().then(t.bind(t,53889))},28354:e=>{"use strict";e.exports=require("util")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31602:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,4536,23)),Promise.resolve().then(t.bind(t,54348))},33873:e=>{"use strict";e.exports=require("path")},45984:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>P,generateStaticParams:()=>O});var a=t(37413),i=t(67218);t(79130);var s=t(61120),n=t(84113),o=t(31183),d=t(58111),c=t(54348),l=t(4536),u=t.n(l),p=t(39916),f=t(23732),m=t(83204),x=t(10974);let y=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,x.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));y.displayName="Card";let h=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,x.cn)("flex flex-col space-y-1.5 p-6",e),...r}));h.displayName="CardHeader";let g=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("h3",{ref:t,className:(0,x.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));g.displayName="CardTitle",s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("p",{ref:t,className:(0,x.cn)("text-sm text-muted-foreground",e),...r})).displayName="CardDescription";let b=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,x.cn)("p-6 pt-0",e),...r}));b.displayName="CardContent",s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,x.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter";let v=(0,t(50662).F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),N=s.forwardRef(({className:e,variant:r,...t},i)=>(0,a.jsx)("div",{ref:i,role:"alert",className:(0,x.cn)(v({variant:r}),e),...t}));N.displayName="Alert";let E=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("h5",{ref:t,className:(0,x.cn)("mb-1 font-medium leading-none tracking-tight",e),...r}));E.displayName="AlertTitle";let C=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,x.cn)("text-sm [&_p]:leading-relaxed",e),...r}));C.displayName="AlertDescription";var A=t(65867),I=t(75986),_=t(17478);let D={NO_CATEGORIES:"No categories available. Please create a category first."},w=()=>(0,n.A)(),T=(0,s.cache)(async()=>{w();try{let e=await (0,m.d$)();if("error"in e||!Array.isArray(e))return[];return e}catch(e){return[]}}),j=(0,s.cache)(async()=>{w();try{let e=await (0,f.b)();if("error"in e||!Array.isArray(e))return[];return e}catch(e){return[]}});async function O(){w();try{return(await T()).map(e=>({productId:e.id}))}catch(e){return[]}}let L=(0,s.cache)(async e=>{if(w(),!e||"string"!=typeof e)return null;try{return await o.db.product.findUnique({where:{id:e},include:{ProductTech:{select:{id:!0,name:!0}},ProductAddon:{select:{id:!0,name:!0}},category:{select:{id:!0,name:!0,order:!0}},orders:{select:{id:!0}},downloadVerifications:{select:{id:!0}}}})}catch(e){return null}});async function P({params:e}){w();let{productId:r}=await e;r&&"string"==typeof r||(0,p.notFound)();let[t,i]=await Promise.all([L(r),j()]);return(t||(0,p.notFound)(),i&&0!==i.length)?(0,a.jsxs)("main",{className:(0,I.A)("min-h-screen bg-gradient-to-b from-slate-900 to-indigo-950","relative overflow-hidden py-12 px-4 sm:px-6 lg:px-8"),dir:"auto",children:[(0,a.jsxs)("div",{className:"particle-wave pointer-events-none",children:[(0,a.jsx)("div",{className:"particle",style:{width:"8px",height:"8px",top:"20%",left:"15%",animationDuration:"3s",animationDelay:"0.3s"}}),(0,a.jsx)("div",{className:"particle",style:{width:"6px",height:"6px",top:"70%",left:"80%",animationDuration:"2.5s",animationDelay:"0.8s"}})]}),(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)("div",{className:"flex justify-center items-center min-h-[400px]",children:(0,a.jsx)(A.A,{className:"w-8 h-8 text-indigo-200 animate-spin"})}),children:(0,a.jsx)("section",{className:"max-w-5xl mx-auto",children:(0,a.jsxs)(y,{className:(0,I.A)("glass-card bg-slate-800/30 border-indigo-600/30 shadow-lg","rounded-xl animate-reveal-text delay-200"),children:[(0,a.jsx)(h,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)(g,{className:(0,I.A)("text-3xl font-bold text-indigo-200","text-gradient-primary animate-glow"),children:["Edit Product: ",t.name]}),(0,a.jsx)(u(),{href:`/${d.BV.ADMIN}/${d.bQ.MENU_ITEMS}`,className:(0,I.A)("btn-secondary text-indigo-100 font-semibold","hover:text-indigo-50 transition-colors duration-300"),"aria-label":"Return to menu items",children:"Back to Menu Items"})]})}),(0,a.jsx)(b,{children:(0,a.jsx)(c.default,{product:t,categories:i})})]})})})]}):(0,a.jsxs)("main",{className:(0,I.A)("min-h-screen bg-gradient-to-b from-slate-900 to-indigo-950","relative overflow-hidden flex items-center justify-center p-6"),dir:"auto",children:[(0,a.jsxs)("div",{className:"particle-wave pointer-events-none",children:[(0,a.jsx)("div",{className:"particle",style:{width:"8px",height:"8px",top:"20%",left:"15%",animationDuration:"3s",animationDelay:"0.3s"}}),(0,a.jsx)("div",{className:"particle",style:{width:"6px",height:"6px",top:"70%",left:"80%",animationDuration:"2.5s",animationDelay:"0.8s"}})]}),(0,a.jsxs)(N,{variant:"destructive",className:(0,I.A)("max-w-md glass-card border-indigo-600/30 bg-slate-800/30","animate-reveal-text delay-200"),children:[(0,a.jsx)(E,{className:(0,I.A)("text-indigo-200 text-2xl font-bold","text-gradient-primary animate-glow"),children:"No Categories Available"}),(0,a.jsx)(C,{className:"text-red-400 text-lg",children:D.NO_CATEGORIES}),(0,a.jsx)(u(),{href:`/${d.BV.ADMIN}/${d.bQ.CATEGORIES}`,className:(0,I.A)("mt-4 inline-block btn-secondary text-indigo-100 font-semibold","hover:text-indigo-50 transition-colors duration-300"),"aria-label":"Navigate to categories management",children:"Go to Categories"})]})]})}(0,_.D)([O,P]),(0,i.A)(O,"0038d89a466d96a188db6802c6ced329123e7b50ff",null),(0,i.A)(P,"4001a2734b6dbb63d1e1c627dec40ff67991874a19",null)},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65867:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(18618).A)("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]])},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83204:(e,r,t)=>{"use strict";t.d(r,{AS:()=>m,OF:()=>y,ab:()=>g,d$:()=>x,hx:()=>h,vu:()=>b});var a=t(67218);t(79130);var i=t(61120),s=t(84113),n=t(31183),o=t(62351),d=t(17478);let c="name",l={INVALID_PAGE:"Page number must be positive",INVALID_LIMIT:"Limit must be non-negative",INVALID_CATEGORY_ID:"Category ID is required",NO_PRODUCTS:"No products found",NO_BEST_SELLERS:"No best-selling products found",NO_CATEGORIES:"No categories found",FETCH_FAILED:"Failed to fetch data"},u=()=>(0,s.A)(),p={category:{select:{id:!0,name:!0,order:!0}},ProductTech:{select:{id:!0,name:!0,productId:!0}},ProductAddon:{select:{id:!0,name:!0,productId:!0}},orders:{select:{id:!0,quantity:!0,productId:!0,orderId:!0}},downloadVerifications:{select:{id:!0}}},f=e=>e.replace(/[ممممممممتتتdggfjgjgh]+/g,"").trim()||"Unnamed Category",m=(0,i.cache)(async()=>{u();try{let e=await n.db.product.findMany({include:p,orderBy:{name:"asc"}});return e.length>0?e:{error:l.NO_PRODUCTS,code:"NO_PRODUCTS",details:"The database contains no products"}}catch(e){return{error:l.FETCH_FAILED,code:e instanceof Error&&e.message.includes("connection")?"DB_CONNECTION_FAILED":"FETCH_FAILED",details:e instanceof Error?e.message:String(e)}}}),x=(0,i.cache)(async(e={})=>{u();try{let{page:r=1,limit:t=0,search:a,sortBy:i=c,order:s="asc"}=e;if(r<1)throw Error(l.INVALID_PAGE);if(t<0)throw Error(l.INVALID_LIMIT);let o=a?.trim(),d=await n.db.product.findMany({where:{name:o?{contains:o,mode:"insensitive"}:void 0},include:p,orderBy:{[i]:s},skip:t>0?(r-1)*t:0,take:t>0?t:void 0});return d.length>0?d:{error:l.NO_PRODUCTS,code:"NO_PRODUCTS",details:"No products match the provided criteria"}}catch(e){return{error:l.FETCH_FAILED,code:e instanceof Error&&e.message.includes("connection")?"DB_CONNECTION_FAILED":"FETCH_FAILED",details:e instanceof Error?e.message:String(e)}}}),y=(0,i.cache)(async(e={})=>{u();try{let r=e.search?.trim();return await n.db.product.count({where:{name:r?{contains:r,mode:"insensitive"}:void 0}})}catch(e){return{error:l.FETCH_FAILED,code:e instanceof Error&&e.message.includes("connection")?"DB_CONNECTION_FAILED":"FETCH_FAILED",details:e instanceof Error?e.message:String(e)}}}),h=(0,i.cache)(async e=>{u();try{if(e&&e<1)throw Error(l.INVALID_LIMIT);let r=await n.db.product.findMany({where:{orders:{some:{}}},orderBy:{orders:{_count:"desc"}},include:p,take:e});return r.length>0?r:{error:l.NO_BEST_SELLERS,code:"NO_BEST_SELLERS",details:"No products with orders exist"}}catch(e){return{error:l.FETCH_FAILED,code:e instanceof Error&&e.message.includes("connection")?"DB_CONNECTION_FAILED":"FETCH_FAILED",details:e instanceof Error?e.message:String(e)}}}),g=(0,i.cache)(async()=>{u();try{let e=(await n.db.category.findMany({include:{products:{include:p,orderBy:{name:"asc"}}},orderBy:{order:"asc"}})).map(e=>({...e,name:f(e.name),products:e.products}));return e.forEach(e=>{}),(0,o.revalidatePath)("/projects"),e.length>0?e:{error:l.NO_CATEGORIES,code:"NO_CATEGORIES",details:"The database contains no categories"}}catch(e){return{error:l.FETCH_FAILED,code:e instanceof Error&&e.message.includes("connection")?"DB_CONNECTION_FAILED":"FETCH_FAILED",details:e instanceof Error?e.message:String(e)}}}),b=(0,i.cache)(async(e,r={})=>{u();try{if(!e)throw Error(l.INVALID_CATEGORY_ID);let{page:t=1,limit:a=0,search:i,sortBy:s=c,order:o="asc"}=r;if(t<1)throw Error(l.INVALID_PAGE);if(a<0)throw Error(l.INVALID_LIMIT);let d=i?.trim(),u=await n.db.product.findMany({where:{categoryId:e,name:d?{contains:d,mode:"insensitive"}:void 0},include:p,orderBy:{[s]:o},skip:a>0?(t-1)*a:0,take:a>0?a:void 0});return u.length>0?u:{error:l.NO_PRODUCTS,code:"NO_PRODUCTS",details:`No products found for category ID ${e}`}}catch(e){return{error:l.FETCH_FAILED,code:e instanceof Error&&e.message.includes("connection")?"DB_CONNECTION_FAILED":"FETCH_FAILED",details:e instanceof Error?e.message:String(e)}}});(0,d.D)([m,x,y,h,g,b]),(0,a.A)(m,"7f6ce78ca510471bed79a9fd057096b46ea8be23fa",null),(0,a.A)(x,"7fc47268b2fa335e776c6baac82208e0ef7c7a9ef4",null),(0,a.A)(y,"7f8dfbafa8764ad0718826a449791ff4e1adfe74cc",null),(0,a.A)(h,"7fc95cc4a35aa2688fea6a4e733e3879f181fb43a5",null),(0,a.A)(g,"7fdd9393769371e63e4f9ed0d97ced33211dd316ff",null),(0,a.A)(b,"7fa624c09f5b849cc24bd75870f06c52852199c913",null)},90185:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>c});var a=t(65239),i=t(48088),s=t(88170),n=t.n(s),o=t(30893),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(r,d);let c={children:["",{children:["admin",{children:["menu-items",{children:["[productId]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,45984)),"C:\\Users\\raya\\ShoppingCart\\portfolio - Copy - Copy - Copy - Copy - Copy\\src\\app\\admin\\menu-items\\[productId]\\edit\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,99111)),"C:\\Users\\raya\\ShoppingCart\\portfolio - Copy - Copy - Copy - Copy - Copy\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"C:\\Users\\raya\\ShoppingCart\\portfolio - Copy - Copy - Copy - Copy - Copy\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,54413)),"C:\\Users\\raya\\ShoppingCart\\portfolio - Copy - Copy - Copy - Copy - Copy\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,l=["C:\\Users\\raya\\ShoppingCart\\portfolio - Copy - Copy - Copy - Copy - Copy\\src\\app\\admin\\menu-items\\[productId]\\edit\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/admin/menu-items/[productId]/edit/page",pathname:"/admin/menu-items/[productId]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},94735:e=>{"use strict";e.exports=require("events")},96330:e=>{"use strict";e.exports=require("@prisma/client")}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[243,915,78,172,596,24,984,653,997,372,895,717,169,516,183],()=>t(90185));module.exports=a})();