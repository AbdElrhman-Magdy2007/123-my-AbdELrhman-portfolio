exports.id=375,exports.ids=[375],exports.modules={10582:(e,r,a)=>{"use strict";a.d(r,{default:()=>s});let s=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\raya\\\\ShoppingCart\\\\portfolio - Copy - Copy - Copy - Copy - Copy - Copy (2)\\\\src\\\\app\\\\admin\\\\_components\\\\AdminTabs.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\raya\\ShoppingCart\\portfolio - Copy - Copy - Copy - Copy - Copy - Copy (2)\\src\\app\\admin\\_components\\AdminTabs.tsx","default")},22389:(e,r,a)=>{"use strict";a.d(r,{i:()=>b,$:()=>x});var s=a(67218);a(79130);var t=a(31183),i=a(5486),o=a.n(i),n=a(58111),l=a(62351),d=a(84113),m=a(45697);let c={requiredEmail:"Email is required",validEmail:"Invalid email format",requiredPassword:"Password is required",passwordMinLength:"Password must be at least 6 characters",passwordMaxLength:"Password must be less than 40 characters",requiredName:"Name is required",nameMaxLength:"Name must be less than 50 characters",requiredConfirmPassword:"Password confirmation is required",passwordsDoNotMatch:"Passwords do not match",validLimit:"Limit must be a positive integer",limitMax:"Limit must be 100 or less"},u=e=>({isValid:e.password===e.confirmPassword,issue:{message:c.passwordsDoNotMatch,path:["confirmPassword"]}}),p=()=>m.z.object({email:m.z.string().trim().min(1,{message:c.requiredEmail}).email({message:c.validEmail}).transform(e=>e.toLowerCase()),password:m.z.string().min(1,{message:c.requiredPassword}).min(6,{message:c.passwordMinLength}).max(40,{message:c.passwordMaxLength})}),f=()=>m.z.object({name:m.z.string().trim().min(1,{message:c.requiredName}).max(50,{message:c.nameMaxLength}),email:m.z.string().trim().min(1,{message:c.requiredEmail}).email({message:c.validEmail}).transform(e=>e.toLowerCase()),password:m.z.string().min(1,{message:c.requiredPassword}).min(6,{message:c.passwordMinLength}).max(40,{message:c.passwordMaxLength}),confirmPassword:m.z.string().min(1,{message:c.requiredConfirmPassword}),limit:m.z.number().int().min(1,{message:c.validLimit}).max(100,{message:c.limitMax}).default(1)}).refine(e=>u(e).isValid,e=>u(e).issue);var g=a(17478);let b=async(e,r)=>{if(!e?.email||!e?.password)return{status:400,message:"Email and password are required",className:"text-red-500"};let a=p().safeParse(e);if(!a.success)return{status:400,error:a.error.formErrors.fieldErrors,className:"text-red-500"};try{let e=await t.db.user.findUnique({where:{email:a.data.email},select:{id:!0,email:!0,name:!0,password:!0,role:!0,createdAt:!0,updatedAt:!0}});if(!e)return{status:401,message:"User not found",className:"text-red-500"};if(!await o().compare(a.data.password,e.password))return{status:401,message:"Incorrect password",className:"text-red-500"};let{password:r,...s}=e;return{status:200,message:"Login successful",user:s,className:"text-green-500"}}catch(e){return{status:500,message:"An unexpected error occurred",error:{general:[e instanceof Error?e.message:"Unknown error"]},className:"text-red-500"}}},x=async(e,r)=>{let a=Object.fromEntries(r.entries()),s=f().safeParse(a);if(!s.success)return{status:400,error:s.error.formErrors.fieldErrors,formData:r,className:"text-red-500"};try{if(await t.db.user.findUnique({where:{email:s.data.email},select:{id:!0}}))return{status:409,message:"User already exists",formData:r,className:"text-red-500"};let e=await o().hash(s.data.password,10),a=await t.db.user.create({data:{id:(0,d.A)(),name:s.data.name,email:s.data.email,password:e,role:"USER"},select:{id:!0,name:!0,email:!0,role:!0}}),i=`/${n.BV.ADMIN}`;return(0,l.revalidatePath)(`${i}/${n.bQ.USERS}/${a.id}/${n.bQ.EDIT}`),(0,l.revalidatePath)(`${i}/${n.bQ.USERS}`),{status:201,message:"Registration successful",user:a,className:"text-green-500"}}catch(e){return{status:500,message:"An unexpected error occurred",error:{general:[e instanceof Error?e.message:"Unknown error"]},className:"text-red-500"}}};(0,g.D)([b,x]),(0,s.A)(b,"7fc2cce2666aecb6e3c810db16e90500f01296191a",null),(0,s.A)(x,"7ffd39a9db53f8dabdc4924f0cb505f442d509acdb",null)},31183:(e,r,a)=>{"use strict";a.d(r,{db:()=>t});var s=a(96330);let t=globalThis.prisma||new s.PrismaClient({log:["query","info","warn","error"]});t.$connect().then(()=>console.log("âœ… Prisma connected successfully")).catch(e=>{throw e})},33169:(e,r,a)=>{"use strict";a.d(r,{N:()=>l});var s=a(58111),t=a(13581),i=a(60890),o=a(31183),n=a(22389);let l={adapter:(0,i.y)(o.db),providers:[(0,t.A)({name:"Credentials",credentials:{email:{label:"Email",type:"email",placeholder:"example@email.com"},password:{label:"Password",type:"password"}},async authorize(e,r){if(!e)throw Error("No credentials provided");let a=await (0,n.i)(e,s.AT.ENGLISH);if(200===a.status&&a.user)return a.user;throw Error(JSON.stringify({validationError:a.error,responseError:a.message}))}})],callbacks:{async jwt({token:e}){if(!e.email)return e;let r=await o.db.user.findUnique({where:{email:e.email}});return r?{id:r.id,name:r.name,email:r.email,role:r.role,image:r.image,phone:r.phone,country:r.country,city:r.city,postalCode:r.postalCode,streetAddress:r.streetAddress}:e},session:({session:e,token:r})=>(r&&(e.user={...e.user,id:r.id,name:r.name,email:r.email,role:r.role,image:r.image,phone:r.phone,country:r.country,city:r.city,postalCode:r.postalCode,streetAddress:r.streetAddress}),e)},session:{strategy:"jwt",maxAge:604800,updateAge:86400},pages:{signIn:`/${s.BV.AUTH}/${s.bQ.LOGIN}`},secret:"60d665bff7695e6de1f0528f2d43376489f244dacf8f098279c870109ceac7c6",debug:"production"===s.B5.DEV}},56677:(e,r,a)=>{Promise.resolve().then(a.bind(a,10582))},58111:(e,r,a)=>{"use strict";a.d(r,{AT:()=>s,B5:()=>o,BV:()=>t,bQ:()=>i});var s=function(e){return e.ENGLISH="en",e.ARABIC="ar",e}({}),t=function(e){return e.ROOT="",e.MENU="menu",e.ABOUT="about",e.CONTACT="contact",e.AUTH="auth",e.CART="cart",e.PROFILE="profile",e.ADMIN="admin",e.PORTFOLIO="PORTFOLIO",e.SETTINGS="SETTINGS",e}({}),i=function(e){return e.LOGIN="/signin",e.Register="/signup",e.ERROR="error",e.FORGOT_PASSWORD="forgot-password",e.CATEGORIES="categories",e.MENU_ITEMS="menu-items",e.USERS="users",e.ORDERS="orders",e.NEW="new",e.EDIT="edit",e.DASHBOARD="Dashboard",e.CUSTOMERS="Customers",e.SALES="Sales",e.PRODUCTS="PRODUCTS",e.LOGOUT="LOGOUT",e.VERIFY_REQUEST="verify-request",e}({}),o=function(e){return e.PROD="production",e.DEV="development",e}({})},69829:(e,r,a)=>{Promise.resolve().then(a.bind(a,96668))},96668:(e,r,a)=>{"use strict";a.d(r,{default:()=>u});var s=a(60687),t=a(43210),i=a(16189),o=a(29523),n=a(75109),l=a(49384),d=a(85814),m=a.n(d);let c=(0,t.memo)(()=>{let e=(0,i.usePathname)(),r=[{id:"tab-profile",title:"Profile",href:`${n.BV.ADMIN}`},{id:"tab-categories",title:"Categories",href:`${n.BV.ADMIN}/${n.bQ.CATEGORIES}`},{id:"tab-menu-items",title:"Menu Items",href:`${n.BV.ADMIN}/${n.bQ.MENU_ITEMS}`},{id:"tab-users",title:"Users",href:`${n.BV.ADMIN}/${n.bQ.USERS}`}],a=(0,t.useMemo)(()=>r=>r===n.BV.ADMIN?(e??"")===`/${r}`:(e??"").startsWith(`/${r}`),[e]);return(0,s.jsx)("nav",{className:(0,l.A)("bg-gray-50 dark:bg-gray-900 shadow-md dark:shadow-black/40","py-4 px-6 sm:px-8 lg:px-12","rounded-lg max-w-7xl mx-auto","border border-gray-200 dark:border-gray-700"),"aria-label":"Admin Navigation",children:(0,s.jsx)("ul",{role:"tablist",className:"flex flex-wrap justify-center gap-6 max-w-5xl mx-auto",children:r.map(e=>{let r=a(e.href);return(0,s.jsx)("li",{role:"presentation",className:"relative group",children:(0,s.jsxs)(m(),{href:`/${e.href}`,role:"tab","aria-current":r?"page":void 0,className:(0,l.A)((0,o.r)({variant:r?"default":"outline",size:"lg"}),"relative px-7 py-3 font-semibold text-base tracking-wider","transition duration-300 ease-in-out","rounded-lg shadow-sm",r?"bg-blue-600 text-white shadow-blue-500/40":"bg-transparent text-blue-700 dark:text-blue-300 border-blue-300 dark:border-blue-700 hover:bg-blue-100 dark:hover:bg-blue-800","focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-blue-400 focus-visible:ring-opacity-60"),children:[(0,s.jsx)("span",{className:"relative z-10",children:e.title}),!r&&(0,s.jsx)("span",{"aria-hidden":"true",className:(0,l.A)("absolute inset-0 rounded-lg bg-gradient-to-r from-blue-100 to-blue-200 opacity-0 group-hover:opacity-30 dark:from-blue-800 dark:to-blue-900","transition-opacity duration-300 ease-in-out pointer-events-none")})]})},e.id)})})})});c.displayName="AdminTabs";let u=c},99111:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>u});var s=a(37413),t=a(67218);a(79130);var i=a(96330),o=a(19854),n=a(39916),l=a(75986),d=a(33169),m=a(10582);async function c(){let e=await (0,o.getServerSession)(d.N);return e?.user&&e.user.role===i.UserRole.ADMIN||(0,n.redirect)("/auth/login"),e}async function u({children:e}){return await c(),(0,s.jsxs)("div",{className:(0,l.A)("flex flex-col min-h-screen bg-background dark","transition-colors duration-300"),children:[(0,s.jsx)("header",{className:(0,l.A)("glass-card","supports-[backdrop-filter]:backdrop-blur-md","shadow-md border-b border-border/50","py-4"),"aria-label":"Admin Dashboard Header",children:(0,s.jsxs)("div",{className:"container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsx)("h1",{className:(0,l.A)("text-2xl sm:text-3xl font-heading font-bold text-gradient-primary animate-reveal-text pb-16","mb-4 text-center")}),(0,s.jsx)(m.default,{})]})}),(0,s.jsx)("main",{className:(0,l.A)("flex-grow container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8","text-foreground"),children:(0,s.jsx)("div",{className:"relative glass-card p-6 rounded-xl",children:e})}),(0,s.jsxs)("div",{className:"particle-wave",children:[(0,s.jsx)("div",{className:"particle",style:{left:"10%",top:"20%",animationDuration:"4s"}}),(0,s.jsx)("div",{className:"particle",style:{left:"30%",top:"50%",animationDuration:"5s"}}),(0,s.jsx)("div",{className:"particle",style:{left:"70%",top:"30%",animationDuration:"3s"}}),(0,s.jsx)("div",{className:"particle",style:{left:"50%",top:"80%",animationDuration:"6s"}})]}),(0,s.jsx)("script",{dangerouslySetInnerHTML:{__html:`
            function createParticle() {
              const particle = document.createElement("div");
              particle.className = "particle";
              particle.style.left = \`\${Math.random() * 100}%\`;
              particle.style.top = \`\${Math.random() * 100}%\`;
              particle.style.animationDuration = \`\${Math.random() * 3 + 3}s\`;
              document.querySelector(".particle-wave").appendChild(particle);
              setTimeout(() => particle.remove(), 6000);
            }
            setInterval(createParticle, 2000);
          `}})]})}(0,a(17478).D)([u]),(0,t.A)(u,"409483ccdd52d4ca7fb92fdd950c3597576d427df8",null)}};